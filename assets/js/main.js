(()=>{"use strict";var e={158:e=>{e.exports=JSON.parse('[[{"code":"Backquote","ENG":{"first_symbol":"`","second_symbol":"~"},"RU":{"first_symbol":"Ё"}},{"code":"Digit1","first_symbol":"1","second_symbol":"!"},{"code":"Digit2","first_symbol":"2","ENG":{"second_symbol":"@"},"RU":{"second_symbol":"\\""}},{"code":"Digit3","first_symbol":"3","ENG":{"second_symbol":"#"},"RU":{"second_symbol":"№"}},{"code":"Digit4","first_symbol":"4","ENG":{"second_symbol":"$"},"RU":{"second_symbol":";"}},{"code":"Digit5","first_symbol":"5","second_symbol":"%"},{"code":"Digit6","first_symbol":"6","ENG":{"second_symbol":"^"},"RU":{"second_symbol":":"}},{"code":"Digit7","first_symbol":"7","ENG":{"second_symbol":"&"},"RU":{"second_symbol":"?"}},{"code":"Digit8","first_symbol":"8","second_symbol":"*"},{"code":"Digit9","first_symbol":"9","second_symbol":"("},{"code":"Digit0","first_symbol":"0","second_symbol":")"},{"code":"Minus","first_symbol":"-","second_symbol":"_"},{"code":"Equal","first_symbol":"=","second_symbol":"+"},{"code":"Backspace","first_symbol":"Backspace"}],[{"code":"Tab","first_symbol":"Tab"},{"code":"KeyQ","ENG":{"first_symbol":"Q"},"RU":{"first_symbol":"Й"}},{"code":"KeyW","ENG":{"first_symbol":"W"},"RU":{"first_symbol":"Ц"}},{"code":"KeyE","ENG":{"first_symbol":"E"},"RU":{"first_symbol":"У"}},{"code":"KeyR","ENG":{"first_symbol":"R"},"RU":{"first_symbol":"К"}},{"code":"KeyT","ENG":{"first_symbol":"T"},"RU":{"first_symbol":"Е"}},{"code":"KeyY","ENG":{"first_symbol":"Y"},"RU":{"first_symbol":"Н"}},{"code":"KeyU","ENG":{"first_symbol":"U"},"RU":{"first_symbol":"Г"}},{"code":"KeyI","ENG":{"first_symbol":"I"},"RU":{"first_symbol":"Ш"}},{"code":"KeyO","ENG":{"first_symbol":"O"},"RU":{"first_symbol":"Щ"}},{"code":"KeyP","ENG":{"first_symbol":"P"},"RU":{"first_symbol":"З"}},{"code":"BracketLeft","ENG":{"first_symbol":"["},"RU":{"first_symbol":"Х"}},{"code":"BracketRight","ENG":{"first_symbol":"]"},"RU":{"first_symbol":"Ъ"}},{"code":"Backslash","first_symbol":"\\\\","second_symbol":"/"}],[{"code":"CapsLock","first_symbol":"Caps Lock"},{"code":"KeyA","ENG":{"first_symbol":"A"},"RU":{"first_symbol":"Ф"}},{"code":"KeyS","ENG":{"first_symbol":"S"},"RU":{"first_symbol":"Ы"}},{"code":"KeyD","ENG":{"first_symbol":"D"},"RU":{"first_symbol":"В"}},{"code":"KeyF","ENG":{"first_symbol":"F"},"RU":{"first_symbol":"А"}},{"code":"KeyG","ENG":{"first_symbol":"G"},"RU":{"first_symbol":"П"}},{"code":"KeyH","ENG":{"first_symbol":"H"},"RU":{"first_symbol":"Р"}},{"code":"KeyJ","ENG":{"first_symbol":"J"},"RU":{"first_symbol":"О"}},{"code":"KeyK","ENG":{"first_symbol":"K"},"RU":{"first_symbol":"Л"}},{"code":"KeyL","ENG":{"first_symbol":"L"},"RU":{"first_symbol":"Д"}},{"code":"Semicolon","ENG":{"first_symbol":":"},"RU":{"first_symbol":"Ж"}},{"code":"Quote","ENG":{"first_symbol":"\'"},"RU":{"first_symbol":"Э"}},{"code":"Enter","first_symbol":"Enter"}],[{"code":"ShiftLeft","first_symbol":"Shift"},{"code":"KeyZ","ENG":{"first_symbol":"Z"},"RU":{"first_symbol":"Я"}},{"code":"KeyX","ENG":{"first_symbol":"X"},"RU":{"first_symbol":"Ч"}},{"code":"KeyC","ENG":{"first_symbol":"C"},"RU":{"first_symbol":"С"}},{"code":"KeyV","ENG":{"first_symbol":"V"},"RU":{"first_symbol":"М"}},{"code":"KeyB","ENG":{"first_symbol":"B"},"RU":{"first_symbol":"И"}},{"code":"KeyN","ENG":{"first_symbol":"N"},"RU":{"first_symbol":"Т"}},{"code":"KeyM","ENG":{"first_symbol":"M"},"RU":{"first_symbol":"Ь"}},{"code":"Period","ENG":{"first_symbol":"."},"RU":{"first_symbol":"Ю"}},{"code":"Comma","ENG":{"first_symbol":","},"RU":{"first_symbol":"Б"}},{"code":"Slash","ENG":{"first_symbol":"/"},"RU":{"first_symbol":"."}},{"code":"ArrowUp","first_symbol":"▲"},{"code":"ShiftRight","first_symbol":"Shift"}],[{"code":"ControlLeft","first_symbol":"Ctrl"},{"code":"MetaLeft","first_symbol":"Win"},{"code":"AltLeft","first_symbol":"Alt"},{"code":"Space","first_symbol":"Space"},{"code":"AltRight","first_symbol":"Alt"},{"code":"ControlRight","first_symbol":"Ctrl"},{"code":"ArrowLeft","first_symbol":"◀"},{"code":"ArrowDown","first_symbol":"▼"},{"code":"ArrowRight","first_symbol":"▶"}]]')}},t={};function o(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,o),a.exports}(()=>{var e=o(158);function t(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}const s=function(e){var t,o=function(e,t){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(e){if("string"==typeof e)return r(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){o&&(e=o);var s=0,a=function(){};return{s:a,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,l=!0,i=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return l=e.done,e},e:function(e){i=!0,n=e},f:function(){try{l||null==o.return||o.return()}finally{if(i)throw n}}}}(document.querySelectorAll(".keyboard__key"));try{for(o.s();!(t=o.n()).done;){var s=t.value,a="RU"===localStorage.getItem("lang")?"ENG":"RU";localStorage.setItem("lang",a);var n=s.dataset,l=n.first_symbol,i=n.second_symbol,c=n.another_first,y=n.another_second;i=i||"",c=c||"",y=y||"",1===(l=l||"").length&&(l=e?l.toLocaleUpperCase():l.toLocaleLowerCase()),1===i.length&&(i=e?i.toLocaleUpperCase():i.toLocaleLowerCase()),1===c.length&&(c=e?c.toLocaleUpperCase():c.toLocaleLowerCase()),1===y.length&&(y=e?y.toLocaleUpperCase():y.toLocaleLowerCase());var d=c||l;"Space"===d&&(d=""),s.dataset.first_symbol=c||l,s.dataset.second_symbol=y,s.dataset.another_first=l,s.dataset.another_second=i,s.innerHTML=d}}catch(e){o.e(e)}finally{o.f()}},a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.caps=!0,this.shift=!1,this.ctrl=!1,this.alt=!1,this.caret=0,function(e){for(var t=document.querySelectorAll(".keyboard__key"),o=0;o<t.length;o+=1)t[o].addEventListener("mousedown",(function(t){var o=t.target.dataset.code;"AltLeft"!==o&&"AltRight"!==o||(e.alt=!0),"ShiftLeft"!==o&&"ShiftRight"!==o||(e.shift=!0),"ControlLeft"!==o&&"ControlRight"!==o||(e.ctrl=!0)}))}(this)}var o,r;return o=e,(r=[{key:"handleEvent",value:function(e){var t,o=e.target;switch(this.caret=o.selectionStart||this.caret,this,t=document.querySelector("#keyboard_textarea"),document.querySelector("#keyboard_textarea").blur(),t.value=t.value.replace("|",""),t.value="".concat(t.value.substr(0,this.caret),"|").concat(t.value.substr(this.caret)),function(){var e=document.querySelector("#keyboard_textarea"),t=e.value.indexOf("|");-1!==t&&(e.innerHTML="".concat(e.value.substr(0,t-1),"AnimationCaret").concat(e.value.substr(t)))}(),e.type){case"click":!function(e,t){if(e.closest(".keyboard__key")){var o=document.querySelector("#keyboard_textarea"),r=e.getAttribute("data-code"),s=e.getAttribute("data-first_symbol"),a=e.getAttribute("data-second_symbol");if("Backspace"===r)return o.value=o.value.replace("|",""),o.value="".concat(o.value.substr(0,t.caret-1),"|").concat(o.value.substr(t.caret)),void(t.caret-=1);if("Space"===r&&(s+=" "),"Tab"===r&&(s="\t"),"Enter"===r&&(s="\n"),"ShiftLeft"===r||"ShiftRight"===r)return void(t.shift=!1);if("AltLeft"===r||"AltRight"===r)return void(t.alt=!1);if("ControlLeft"===r||"ControlRight"===r)return void(t.ctrl=!1);if("MetaLeft"===r)return;if("CapsLock"===r){for(var n=document.querySelectorAll(".keyboard__key"),l=0;l<n.length;l+=1)1===n[l].innerText.length&&(n[l].innerText=t.caps?String(n[l].innerText).toLowerCase():String(n[l].innerText).toUpperCase(),n[l].dataset.first_symbol=t.caps?String(n[l].innerText).toLowerCase():String(n[l].innerText).toUpperCase());return void(t.caps=!t.caps)}t.shift&&(s=a||(t.caps?s.toLowerCase():s.toUpperCase())),o.value=o.value.replace("|",""),o.value="".concat(o.value.substr(0,t.caret)+s,"|").concat(o.value.substr(t.caret)),t.caret+=1}}(o,this);break;case"keydown":!function(e,t){var o=document.querySelectorAll(".keyboard__key"),r=document.querySelector("#keyboard_textarea");9!==e.keyCode&&8!==e.keyCode&&17!==e.keyCode||e.preventDefault();for(var a=0;a<o.length;a+=1){var n=o[a].getAttribute("data-code"),l=o[a].getAttribute("data-first_symbol"),i=o[a].getAttribute("data-second_symbol");if(e.code===n){if(o[a].classList.add("active"),"Space"===n&&(l=" "),"Backspace"===n)return void(0!==t.caret&&(r.value=r.value.replace("|",""),r.value="".concat(r.value.substr(0,t.caret-1),"|").concat(r.value.substr(t.caret)),t.caret-=1));if("Tab"===n&&(l="\t"),"Enter"===n&&(l="\n"),"ShiftRight"!==n&&"ShiftLeft"!==n||(t.shift=!0,l=""),"AltLeft"!==n&&"AltRight"!==n||(t.alt=!0,l=""),"ControlLeft"!==n&&"ControlRight"!==n||(t.ctrl=!0,l=""),"MetaLeft"===n)return;if("CapsLock"===n){for(var c=document.querySelectorAll(".keyboard__key"),y=0;y<c.length;y+=1)1===c[y].dataset.first_symbol.length&&(c[y].innerText=t.caps?String(c[y].innerText).toLowerCase():String(c[y].innerText).toUpperCase(),c[y].dataset.first_symbol=t.caps?String(c[y].innerText).toLowerCase():String(c[y].innerText).toUpperCase());return void(t.caps=!t.caps)}t.shift&&(l=i||(t.caps?l.toLowerCase():l.toUpperCase())),t.ctrl&&t.alt&&s(t.caps),r.value=r.value.replace("|",""),r.value="".concat(r.value.substr(0,t.caret)+l,"|").concat(r.value.substr(t.caret)),t.caret+=1}}}(e,this);break;case"keyup":!function(e,t){for(var o=document.querySelectorAll(".keyboard__key"),r=0;r<o.length;r+=1){var s=o[r].getAttribute("data-code");e.code===s&&(o[r].classList.remove("active"),"ShiftLeft"!==s&&"ShiftRight"!==s||(t.shift=!1),"AltLeft"!==s&&"AltRight"!==s||(t.alt=!1),"ControlLeft"!==s&&"ControlRight"!==s||(t.ctrl=!1))}}(e,this)}}}])&&t(o.prototype,r),e}();var n=document.createElement("div");n.classList.add("root"),n.innerHTML='\n<div class="page">\n    <div class="keyboard">\n        <div class="container keyboard__container">\n            <h1 class="keyboard__title">Virtual keyboard</h1>\n            <h2 class="keyboard__subtitle">Made on Windows</h2>\n            <h2 class="keyboard__subtitle">Combination change keyboard layout: CTRL + ALT</h2>\n            <textarea class="keyboard__textarea" name="" id="keyboard_textarea" readonly></textarea>\n            <div class="keyboard__keys">'.concat(function(){localStorage.getItem("lang")||localStorage.setItem("lang","ENG");var t=localStorage.getItem("lang"),o=document.createElement("div");return e.forEach((function(e,r){var s=document.createElement("div");s.classList.add("keyboard__row"),e.forEach((function(e){s.innerHTML+=function(e,t){var o,r,s,a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ENG",l=null!==(o=e[n])&&void 0!==o&&o.first_symbol?e[n].first_symbol:e.first_symbol,i=null!==(r=e[n])&&void 0!==r&&r.second_symbol?e[n].second_symbol:e.second_symbol||"",c="RU"===n?"ENG":"RU",y=null!==(s=e[c])&&void 0!==s&&s.first_symbol?e[c].first_symbol:e.first_symbol,d=null!==(a=e[c])&&void 0!==a&&a.second_symbol?e[c].second_symbol:e.second_symbol||"",f=e.code,b="keyboard__key",_=l;return 0===t&&(b+=" keyboard__key--non_center"),"ShiftLeft"===f&&(b+=" key_shift_left"),"Enter"===f&&(b+=" key_enter"),"Space"===f&&(b+=" keyboard__key--space",_=""),'\n      <div class="'.concat(b,'"\n          data-code=').concat(f,'\n          data-first_symbol="').concat(l,'"\n          ').concat(i?"data-second_symbol='".concat(i,"'"):"","\n          ").concat(y?'data-another_first="'.concat(y,'"'):"","\n          ").concat(d?"data-another_second='".concat(d,"'"):"",">\n        ").concat(_," \n      </div>")}(e,r,t)})),o.append(s)})),o}().innerHTML,"</div>\n        </div>\n    </div>\n</div>\n"),document.body.append(n),document.querySelector(".keyboard__textarea").onkeypress=function(){return!1};var l=new a;document.addEventListener("click",l),document.addEventListener("keydown",l),document.addEventListener("keyup",l)})()})();
//# sourceMappingURL=main.js.map